-- MySQL Script generated by MySQL Workbench
-- ter 28 jul 2020 20:32:39
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema SpotifyClone
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `SpotifyClone` ;

-- -----------------------------------------------------
-- Schema SpotifyClone
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `SpotifyClone` ;
USE `SpotifyClone` ;

-- -----------------------------------------------------
-- Table `SpotifyClone`.`plano`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SpotifyClone`.`plano` (
  `id_plano` INT NOT NULL AUTO_INCREMENT,
  `nome_do_plano` VARCHAR(50) NOT NULL,
  `valor_do_plano` DECIMAL(10,2) NOT NULL,
  PRIMARY KEY (`id_plano`),
  UNIQUE INDEX `id_UNIQUE` (`id_plano` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SpotifyClone`.`usuário`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SpotifyClone`.`usuário` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nome_usuario` VARCHAR(100) NOT NULL,
  `idade` INT NOT NULL,
  `id_plano` INT NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC) VISIBLE,
  INDEX `fk_usuário_plano1_idx` (`id_plano` ASC) VISIBLE,
  CONSTRAINT `fk_usuário_plano1`
    FOREIGN KEY (`id_plano`)
    REFERENCES `SpotifyClone`.`plano` (`id_plano`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SpotifyClone`.`artista`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SpotifyClone`.`artista` (
  `id_artista` INT NOT NULL AUTO_INCREMENT,
  `primeiro_nome` VARCHAR(50) NOT NULL,
  `segundo_nome` VARCHAR(50) NULL,
  PRIMARY KEY (`id_artista`),
  UNIQUE INDEX `id_artista_UNIQUE` (`id_artista` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SpotifyClone`.`albuns`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SpotifyClone`.`albuns` (
  `id_albun` INT NOT NULL AUTO_INCREMENT,
  `primeiro_nome` VARCHAR(50) NOT NULL,
  `segundo_nome` VARCHAR(50) NULL,
  `artista_id_artista` INT NOT NULL,
  PRIMARY KEY (`id_albun`),
  UNIQUE INDEX `id_albun_UNIQUE` (`id_albun` ASC) VISIBLE,
  INDEX `fk_albuns_artista1_idx` (`artista_id_artista` ASC) VISIBLE,
  CONSTRAINT `fk_albuns_artista1`
    FOREIGN KEY (`artista_id_artista`)
    REFERENCES `SpotifyClone`.`artista` (`id_artista`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SpotifyClone`.`cancoes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SpotifyClone`.`cancoes` (
  `id_cancao` INT NOT NULL AUTO_INCREMENT,
  `nome_cancao` TEXT(1000) NOT NULL,
  `artista_id` INT NOT NULL,
  `albun_id` INT NOT NULL,
  PRIMARY KEY (`id_cancao`),
  UNIQUE INDEX `id_cancao_UNIQUE` (`id_cancao` ASC) VISIBLE,
  INDEX `fk_cancoes_artista_idx` (`artista_id` ASC) VISIBLE,
  INDEX `fk_cancoes_albuns1_idx` (`albun_id` ASC) VISIBLE,
  CONSTRAINT `fk_cancoes_artista`
    FOREIGN KEY (`artista_id`)
    REFERENCES `SpotifyClone`.`artista` (`id_artista`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_cancoes_albuns1`
    FOREIGN KEY (`albun_id`)
    REFERENCES `SpotifyClone`.`albuns` (`id_albun`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SpotifyClone`.`historico_de_reproducoes`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SpotifyClone`.`historico_de_reproducoes` (
  `id_historico_de_reproducoes` INT NOT NULL AUTO_INCREMENT,
  `usuário_id` INT NOT NULL,
  `id_cancao` INT NOT NULL,
  PRIMARY KEY (`id_historico_de_reproducoes`),
  UNIQUE INDEX `id_historico_de_reproducoes_UNIQUE` (`id_historico_de_reproducoes` ASC) VISIBLE,
  INDEX `fk_historico_de_reproducoes_usuário1_idx` (`usuário_id` ASC) VISIBLE,
  INDEX `fk_historico_de_reproducoes_cancoes1_idx` (`id_cancao` ASC) VISIBLE,
  CONSTRAINT `fk_historico_de_reproducoes_usuário1`
    FOREIGN KEY (`usuário_id`)
    REFERENCES `SpotifyClone`.`usuário` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_historico_de_reproducoes_cancoes1`
    FOREIGN KEY (`id_cancao`)
    REFERENCES `SpotifyClone`.`cancoes` (`id_cancao`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SpotifyClone`.`seguindo_artistas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SpotifyClone`.`seguindo_artistas` (
  `usuário_id` INT NOT NULL,
  `id_artista` INT NOT NULL,
  INDEX `fk_seguindo_artistas_artista1_idx` (`id_artista` ASC) VISIBLE,
  CONSTRAINT `fk_seguindo_artistas_usuário1`
    FOREIGN KEY (`usuário_id`)
    REFERENCES `SpotifyClone`.`usuário` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_seguindo_artistas_artista1`
    FOREIGN KEY (`id_artista`)
    REFERENCES `SpotifyClone`.`artista` (`id_artista`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `SpotifyClone`.`plano`
-- -----------------------------------------------------
START TRANSACTION;
USE `SpotifyClone`;
INSERT INTO `SpotifyClone`.`plano` (`id_plano`, `nome_do_plano`, `valor_do_plano`) VALUES (1, 'gratuito', 0);
INSERT INTO `SpotifyClone`.`plano` (`id_plano`, `nome_do_plano`, `valor_do_plano`) VALUES (2, 'familiar', 7.99);
INSERT INTO `SpotifyClone`.`plano` (`id_plano`, `nome_do_plano`, `valor_do_plano`) VALUES (3, 'universitário', 5.99);

COMMIT;


-- -----------------------------------------------------
-- Data for table `SpotifyClone`.`usuário`
-- -----------------------------------------------------
START TRANSACTION;
USE `SpotifyClone`;
INSERT INTO `SpotifyClone`.`usuário` (`id`, `nome_usuario`, `idade`, `id_plano`) VALUES (1, 'Thati', 23, 1);
INSERT INTO `SpotifyClone`.`usuário` (`id`, `nome_usuario`, `idade`, `id_plano`) VALUES (2, 'Cintia', 35, 2);
INSERT INTO `SpotifyClone`.`usuário` (`id`, `nome_usuario`, `idade`, `id_plano`) VALUES (3, 'Bill', 20, 3);
INSERT INTO `SpotifyClone`.`usuário` (`id`, `nome_usuario`, `idade`, `id_plano`) VALUES (4, 'Roger', 45, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `SpotifyClone`.`artista`
-- -----------------------------------------------------
START TRANSACTION;
USE `SpotifyClone`;
INSERT INTO `SpotifyClone`.`artista` (`id_artista`, `primeiro_nome`, `segundo_nome`) VALUES (1, 'Walter', 'Phoenix');
INSERT INTO `SpotifyClone`.`artista` (`id_artista`, `primeiro_nome`, `segundo_nome`) VALUES (2, 'Peter', ' Strong');
INSERT INTO `SpotifyClone`.`artista` (`id_artista`, `primeiro_nome`, `segundo_nome`) VALUES (3, 'Lance', 'Day');
INSERT INTO `SpotifyClone`.`artista` (`id_artista`, `primeiro_nome`, `segundo_nome`) VALUES (4, 'Freedie', 'Shannon');

COMMIT;


-- -----------------------------------------------------
-- Data for table `SpotifyClone`.`albuns`
-- -----------------------------------------------------
START TRANSACTION;
USE `SpotifyClone`;
INSERT INTO `SpotifyClone`.`albuns` (`id_albun`, `primeiro_nome`, `segundo_nome`, `artista_id_artista`) VALUES (1, 'Envious', NULL, 1);
INSERT INTO `SpotifyClone`.`albuns` (`id_albun`, `primeiro_nome`, `segundo_nome`, `artista_id_artista`) VALUES (2, 'Exuberant', NULL, 1);
INSERT INTO `SpotifyClone`.`albuns` (`id_albun`, `primeiro_nome`, `segundo_nome`, `artista_id_artista`) VALUES (3, 'Hallowed ', 'Steam', 2);
INSERT INTO `SpotifyClone`.`albuns` (`id_albun`, `primeiro_nome`, `segundo_nome`, `artista_id_artista`) VALUES (4, 'Incandescent', '', 3);
INSERT INTO `SpotifyClone`.`albuns` (`id_albun`, `primeiro_nome`, `segundo_nome`, `artista_id_artista`) VALUES (5, 'Temporary', 'Culture', 4);

COMMIT;


-- -----------------------------------------------------
-- Data for table `SpotifyClone`.`cancoes`
-- -----------------------------------------------------
START TRANSACTION;
USE `SpotifyClone`;
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (1, 'Soul For Us', 1, 1);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (2, 'Reflections Of Magic', 1, 1);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (3, 'Dance With Her Own', 1, 1);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (4, 'Troubles Of My Inner Fire', 1, 2);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (5, 'Time Fireworks', 1, 2);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (6, 'Magic Circus', 2, 3);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (7, 'Honey, So Do I', 2, 3);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (8, 'Sweetie, Let\'s Go Wild', 2, 3);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (9, 'She Knows', 2, 3);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (10, 'Fantasy For Me', 3, 4);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (11, 'Celebration Of More', 3, 4);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (12, 'Rock His Everything', 3, 4);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (13, 'Home Forever', 3, 4);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (14, 'Diamond Power', 3, 4);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (15, 'Honey, Let\'s Be Silly', 3, 4);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (16, 'Thang Of Thunder', 4, 5);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (17, 'Words Of Her Life', 4, 5);
INSERT INTO `SpotifyClone`.`cancoes` (`id_cancao`, `nome_cancao`, `artista_id`, `albun_id`) VALUES (18, 'Without My Streets', 4, 5);

COMMIT;


-- -----------------------------------------------------
-- Data for table `SpotifyClone`.`historico_de_reproducoes`
-- -----------------------------------------------------
START TRANSACTION;
USE `SpotifyClone`;
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (1, 1, 1);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (2, 1, 6);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (3, 1, 14);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (4, 1, 16);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (5, 2, 13);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (6, 2, 17);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (7, 2, 2);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (8, 2, 15);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (9, 3, 4);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (10, 3, 16);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (11, 3, 6);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (12, 4, 3);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (13, 4, 18);
INSERT INTO `SpotifyClone`.`historico_de_reproducoes` (`id_historico_de_reproducoes`, `usuário_id`, `id_cancao`) VALUES (14, 4, 11);

COMMIT;


-- -----------------------------------------------------
-- Data for table `SpotifyClone`.`seguindo_artistas`
-- -----------------------------------------------------
START TRANSACTION;
USE `SpotifyClone`;
INSERT INTO `SpotifyClone`.`seguindo_artistas` (`usuário_id`, `id_artista`) VALUES (1, 1);
INSERT INTO `SpotifyClone`.`seguindo_artistas` (`usuário_id`, `id_artista`) VALUES (1, 4);
INSERT INTO `SpotifyClone`.`seguindo_artistas` (`usuário_id`, `id_artista`) VALUES (1, 3);
INSERT INTO `SpotifyClone`.`seguindo_artistas` (`usuário_id`, `id_artista`) VALUES (2, 1);
INSERT INTO `SpotifyClone`.`seguindo_artistas` (`usuário_id`, `id_artista`) VALUES (2, 3);
INSERT INTO `SpotifyClone`.`seguindo_artistas` (`usuário_id`, `id_artista`) VALUES (3, 2);
INSERT INTO `SpotifyClone`.`seguindo_artistas` (`usuário_id`, `id_artista`) VALUES (3, 1);
INSERT INTO `SpotifyClone`.`seguindo_artistas` (`usuário_id`, `id_artista`) VALUES (4, 4);

COMMIT;
